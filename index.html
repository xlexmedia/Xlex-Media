<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XLEX RECORDS</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        /* Apple-Inspired Design System */
        :root {
            /* Colors - Apple's Clean Palette */
            --color-white: #FFFFFF;
            --color-background: #F5F5F7;
            --color-text-primary: #1D1D1F;
            --color-text-secondary: #86868B;
            --color-text-tertiary: #AEAEB2;
            --color-accent: #0071E3;
            --color-accent-hover: #0077ED;
            --color-border: #D2D2D7;
            --color-border-light: #F2F2F7;
            --color-shadow: rgba(0, 0, 0, 0.04);
            --color-shadow-medium: rgba(0, 0, 0, 0.08);
            --color-shadow-strong: rgba(0, 0, 0, 0.12);
            
            /* Typography - SF Pro Display Inspired */
            --font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'SF Pro Display', sans-serif;
            --font-size-hero: clamp(48px, 8vw, 80px);
            --font-size-h1: clamp(32px, 5vw, 48px);
            --font-size-h2: clamp(24px, 4vw, 32px);
            --font-size-h3: 28px;
            --font-size-body: 17px;
            --font-size-caption: 15px;
            --font-size-small: 13px;
            
            /* Spacing - Apple's Generous Spacing */
            --spacing-xs: 8px;
            --spacing-sm: 16px;
            --spacing-md: 24px;
            --spacing-lg: 32px;
            --spacing-xl: 48px;
            --spacing-2xl: 64px;
            --spacing-3xl: 96px;
            --spacing-4xl: 120px;
            
            /* Transitions - Apple's Smooth Animations */
            --transition-fast: 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            --transition-smooth: 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            --transition-bounce: 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            
            /* Shadows - Apple's Subtle Depth */
            --shadow-sm: 0 1px 3px var(--color-shadow);
            --shadow-md: 0 4px 12px var(--color-shadow-medium);
            --shadow-lg: 0 8px 24px var(--color-shadow-strong);
            --shadow-xl: 0 16px 48px rgba(0, 0, 0, 0.1);
            
            /* Border Radius */
            --radius-sm: 8px;
            --radius-md: 12px;
            --radius-lg: 16px;
            --radius-xl: 20px;
            --radius-2xl: 24px;
        }

        /* Reset & Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
            font-size: 16px;
        }

        body {
            font-family: var(--font-family);
            background: var(--color-white);
            color: var(--color-text-primary);
            line-height: 1.5;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            overflow-x: hidden;
        }

        /* Typography System */
        .text-hero {
            font-size: var(--font-size-hero);
            font-weight: 200;
            letter-spacing: -0.02em;
            line-height: 1.1;
        }

        .text-h1 {
            font-size: var(--font-size-h1);
            font-weight: 600;
            letter-spacing: -0.01em;
            line-height: 1.2;
        }

        .text-h2 {
            font-size: var(--font-size-h2);
            font-weight: 600;
            letter-spacing: -0.01em;
            line-height: 1.3;
        }

        .text-body {
            font-size: var(--font-size-body);
            font-weight: 400;
            line-height: 1.6;
        }

        .text-caption {
            font-size: var(--font-size-caption);
            font-weight: 400;
            color: var(--color-text-secondary);
        }

        .text-small {
            font-size: var(--font-size-small);
            font-weight: 400;
            color: var(--color-text-tertiary);
        }

        /* Layout Components */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 var(--spacing-lg);
        }

        .section {
            padding: var(--spacing-4xl) 0;
        }

        .section-compact {
            padding: var(--spacing-3xl) 0;
        }

        /* Navigation - Apple Style */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--color-border-light);
            z-index: 1000;
            transition: var(--transition-smooth);
        }

        .navbar-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 64px;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 var(--spacing-lg);
        }

        .logo {
            font-size: 20px;
            font-weight: 700;
            color: var(--color-text-primary);
            text-decoration: none;
            letter-spacing: 0.02em;
        }

        .nav-menu {
            display: flex;
            align-items: center;
            gap: var(--spacing-xl);
            list-style: none;
        }

        .nav-link {
            color: var(--color-text-primary);
            text-decoration: none;
            font-size: var(--font-size-body);
            font-weight: 400;
            transition: var(--transition-fast);
            position: relative;
        }

        .nav-link:hover {
            color: var(--color-accent);
        }

        .nav-cta {
            background: var(--color-accent);
            color: var(--color-white);
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 500;
            transition: var(--transition-fast);
        }

        .nav-cta:hover {
            background: var(--color-accent-hover);
            transform: translateY(-1px);
        }

        /* Hero Section - Apple Minimalism */
        .hero {
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            background: var(--color-white);
            position: relative;
        }

        .hero-title {
            margin-bottom: var(--spacing-md);
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 1s ease-out 0.5s forwards;
        }

        .hero-subtitle {
            font-size: var(--font-size-body);
            color: var(--color-text-secondary);
            margin-bottom: var(--spacing-2xl);
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 1s ease-out 0.7s forwards;
        }

        .hero-cta {
            display: inline-flex;
            align-items: center;
            gap: var(--spacing-xs);
            color: var(--color-accent);
            text-decoration: none;
            font-size: var(--font-size-body);
            font-weight: 500;
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 1s ease-out 0.9s forwards;
            transition: var(--transition-fast);
        }

        .hero-cta:hover {
            transform: translateY(-2px);
        }

        .hero-scroll {
            position: absolute;
            bottom: var(--spacing-xl);
            left: 50%;
            transform: translateX(-50%);
            color: var(--color-text-tertiary);
            animation: bounce 2s infinite;
        }

        /* Featured Music Section */
        .featured-section {
            background: var(--color-background);
        }

        .section-header {
            text-align: center;
            margin-bottom: var(--spacing-2xl);
        }

        .section-title {
            margin-bottom: var(--spacing-sm);
        }

        .section-description {
            color: var(--color-text-secondary);
            max-width: 600px;
            margin: 0 auto;
        }

        .music-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: var(--spacing-lg);
            margin-top: var(--spacing-2xl);
        }

        .music-card {
            background: var(--color-white);
            border-radius: var(--radius-xl);
            overflow: hidden;
            box-shadow: var(--shadow-sm);
            transition: var(--transition-smooth);
            cursor: pointer;
            border: 1px solid var(--color-border-light);
        }

        .music-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        .music-card:hover .artwork-image {
            transform: scale(1.05);
        }

        .music-artwork {
            width: 100%;
            aspect-ratio: 1;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .artwork-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition-smooth);
        }

        .artwork-placeholder {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            font-size: 48px;
            color: white;
            transition: var(--transition-fast);
        }

        .artwork-loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 24px;
            height: 24px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-top: 2px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }

        .music-artwork::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.1);
            opacity: 0;
            transition: var(--transition-fast);
        }

        .music-card:hover .music-artwork::before {
            opacity: 1;
        }

        .play-overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 50%;
            width: 64px;
            height: 64px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition-bounce);
        }

        .music-card:hover .play-overlay {
            transform: translate(-50%, -50%) scale(1);
        }

        .music-info {
            padding: var(--spacing-lg);
        }

        .music-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: var(--spacing-xs);
            line-height: 1.3;
        }

        .music-artist {
            color: var(--color-text-secondary);
            font-size: var(--font-size-caption);
        }

        /* Artists Section */
        .artists-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--spacing-xl);
            margin-top: var(--spacing-2xl);
        }

        .artist-card {
            text-align: center;
            transition: var(--transition-smooth);
        }

        .artist-card:hover {
            transform: translateY(-8px);
        }

        .artist-avatar {
            width: 160px;
            height: 160px;
            border-radius: 50%;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            margin: 0 auto var(--spacing-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            color: white;
            box-shadow: var(--shadow-md);
            transition: var(--transition-smooth);
        }

        .artist-card:hover .artist-avatar {
            box-shadow: var(--shadow-xl);
            transform: scale(1.05);
        }

        .artist-name {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: var(--spacing-xs);
        }

        .artist-role {
            color: var(--color-text-secondary);
            font-size: var(--font-size-caption);
        }

        /* Modal Overlay */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            z-index: 1999;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition-smooth);
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        /* Music Player Modal - Apple Style */
        .player-modal {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.9);
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(40px);
            -webkit-backdrop-filter: blur(40px);
            border: 1px solid var(--color-border-light);
            border-radius: var(--radius-2xl);
            box-shadow: var(--shadow-xl);
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            max-width: 480px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
        }

        .player-modal.active {
            opacity: 1;
            visibility: visible;
            transform: translate(-50%, -50%) scale(1);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--spacing-lg) var(--spacing-xl) 0;
        }

        .modal-close {
            background: var(--color-background);
            border: none;
            border-radius: 50%;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition-fast);
            color: var(--color-text-secondary);
        }

        .modal-close:hover {
            background: var(--color-border);
            color: var(--color-text-primary);
            transform: scale(1.1);
        }

        .player-content {
            padding: var(--spacing-lg) var(--spacing-xl) var(--spacing-2xl);
            text-align: center;
        }

        .player-artwork {
            width: 280px;
            height: 280px;
            border-radius: var(--radius-xl);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0 auto var(--spacing-xl);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 80px;
            color: white;
            box-shadow: var(--shadow-lg);
            position: relative;
            overflow: hidden;
        }

        .player-artwork .artwork-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: var(--radius-xl);
        }

        .player-artwork .artwork-placeholder {
            border-radius: var(--radius-xl);
        }

        .player-info {
            margin-bottom: var(--spacing-xl);
        }

        .player-title {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: var(--spacing-xs);
        }

        .player-artist {
            color: var(--color-text-secondary);
            font-size: var(--font-size-body);
        }

        .player-progress {
            margin-bottom: var(--spacing-xl);
        }

        .progress-bar {
            width: 100%;
            height: 4px;
            background: var(--color-border-light);
            border-radius: 2px;
            margin-bottom: var(--spacing-sm);
            cursor: pointer;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: var(--color-accent);
            border-radius: 2px;
            width: 0%;
            transition: width 0.1s ease;
        }

        .progress-times {
            display: flex;
            justify-content: space-between;
            font-size: var(--font-size-small);
            color: var(--color-text-secondary);
        }

        .player-controls {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--spacing-xl);
        }

        .control-btn {
            background: none;
            border: none;
            color: var(--color-text-primary);
            cursor: pointer;
            padding: var(--spacing-sm);
            border-radius: 50%;
            transition: var(--transition-fast);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .control-btn:hover {
            background: var(--color-background);
            transform: scale(1.1);
        }

        .control-btn.primary {
            background: var(--color-accent);
            color: var(--color-white);
            width: 64px;
            height: 64px;
        }

        .control-btn.primary:hover {
            background: var(--color-accent-hover);
        }

        /* Footer */
        .footer {
            background: var(--color-background);
            text-align: center;
            padding: var(--spacing-2xl) 0;
            border-top: 1px solid var(--color-border-light);
        }

        .footer-content {
            color: var(--color-text-secondary);
            font-size: var(--font-size-small);
        }

        /* Animations */
        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateX(-50%) translateY(0);
            }
            40% {
                transform: translateX(-50%) translateY(-10px);
            }
            60% {
                transform: translateX(-50%) translateY(-5px);
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            :root {
                --spacing-lg: 20px;
                --spacing-xl: 32px;
                --spacing-2xl: 48px;
                --spacing-3xl: 64px;
                --spacing-4xl: 80px;
            }

            .navbar-content {
                padding: 0 var(--spacing-md);
            }

            .nav-menu {
                gap: var(--spacing-lg);
            }

            .nav-link {
                font-size: var(--font-size-caption);
            }

            .music-grid {
                grid-template-columns: 1fr;
                gap: var(--spacing-md);
            }

            .artists-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: var(--spacing-lg);
            }

            .artist-avatar {
                width: 120px;
                height: 120px;
                font-size: 36px;
            }

            .player-content {
                padding: var(--spacing-md) var(--spacing-lg) var(--spacing-xl);
            }

            .player-artwork {
                width: 240px;
                height: 240px;
                font-size: 64px;
            }

            .player-controls {
                gap: var(--spacing-lg);
            }
        }

        /* Accessibility */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        /* Focus Styles */
        .nav-link:focus,
        .control-btn:focus,
        .music-card:focus {
            outline: 2px solid var(--color-accent);
            outline-offset: 2px;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar" id="navbar">
        <div class="navbar-content">
            <a href="#" class="logo">XLEX</a>
            <ul class="nav-menu">
                <li><a href="#music" class="nav-link">Music</a></li>
                <li><a href="#artists" class="nav-link">Artists</a></li>
                <li><a href="#about" class="nav-link">About</a></li>
                <li><a href="#music" class="nav-link nav-cta">Listen Now</a></li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero" id="hero">
        <h1 class="text-hero hero-title">XLEX RECORDS</h1>
        <p class="hero-subtitle">A New Standard in Sound</p>
        <a href="#music" class="hero-cta">
            Khám phá
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="6,9 12,15 18,9"></polyline>
            </svg>
        </a>
        <div class="hero-scroll">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <polyline points="6,9 12,15 18,9"></polyline>
            </svg>
        </div>
    </section>

    <!-- Featured Music Section -->
    <section class="section featured-section" id="music">
        <div class="container">
            <div class="section-header">
                <h2 class="text-h1 section-title">Featured Releases</h2>
                <p class="text-body section-description">
                    Discover our latest tracks that define the future of sound
                </p>
            </div>
            <div class="music-grid" id="musicGrid">
                <!-- Music cards will be populated by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Artists Section -->
    <section class="section-compact" id="artists">
        <div class="container">
            <div class="section-header">
                <h2 class="text-h1 section-title">The Artists</h2>
                <p class="text-body section-description">
                    Meet the creative minds behind our sound
                </p>
            </div>
            <div class="artists-grid" id="artistsGrid">
                <!-- Artist cards will be populated by JavaScript -->
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section class="section featured-section" id="about">
        <div class="container">
            <div class="section-header">
                <h2 class="text-h1 section-title">About XLEX</h2>
                <div style="max-width: 800px; margin: 0 auto;">
                    <p class="text-body" style="font-size: 20px; line-height: 1.6; color: var(--color-text-secondary);">
                        XLEX Records là nơi hội tụ của những tài năng âm nhạc độc đáo, nơi sự sáng tạo không giới hạn gặp gỡ âm thanh tinh tế. Chúng tôi tin rằng mỗi giai điệu đều mang trong mình một câu chuyện riêng.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <p>© 2024 XLEX RECORDS. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Modal Overlay -->
    <div class="modal-overlay" id="modalOverlay"></div>

    <!-- Music Player Modal -->
    <div class="player-modal" id="playerModal">
        <div class="modal-header">
            <div></div>
            <button class="modal-close" id="modalClose" aria-label="Close player">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
        </div>
        <div class="player-content">
            <div class="player-artwork" id="playerArtwork">🎵</div>
            <div class="player-info">
                <h3 class="player-title" id="playerTitle">Select a track</h3>
                <p class="player-artist" id="playerArtist">XLEX Records</p>
            </div>
            <div class="player-progress">
                <div class="progress-bar" id="progressBar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="progress-times">
                    <span id="currentTime">0:00</span>
                    <span id="totalTime">0:00</span>
                </div>
            </div>
            <div class="player-controls">
                <button class="control-btn" id="prevBtn" aria-label="Previous track">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <polygon points="19,20 9,12 19,4"></polygon>
                        <line x1="5" y1="19" x2="5" y2="5"></line>
                    </svg>
                </button>
                <button class="control-btn primary" id="playPauseBtn" aria-label="Play/Pause">
                    <svg width="28" height="28" viewBox="0 0 24 24" fill="currentColor">
                        <polygon points="5,3 19,12 5,21"></polygon>
                    </svg>
                </button>
                <button class="control-btn" id="nextBtn" aria-label="Next track">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <polygon points="5,4 15,12 5,20"></polygon>
                        <line x1="19" y1="5" x2="19" y2="19"></line>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- Hidden YouTube Player -->
    <div id="youtube-player" style="position: absolute; top: -9999px; left: -9999px;"></div>

    <!-- YouTube API -->
    <script src="https://www.youtube.com/iframe_api"></script>

    <script>
        // Application State
        const AppState = {
            player: null,
            currentTrack: 0,
            isPlaying: false,
            isPlayerReady: false,
            tracks: [
                {
                    id: 1,
                    title: "COMOIEM",
                    artist: "TPOWLER, DPablo, Tuyz",
                    youtubeId: "2d_DGqOhVTU",
                    emoji: "🎤"
                },
                {
                    id: 2,
                    title: "Không Phai",
                    artist: "Kar D. Boy, DPablo",
                    youtubeId: "g03I58nQVqM",
                    emoji: "💫"
                },
                {
                    id: 3,
                    title: "Bệ Phóng",
                    artist: "Lil Kilz x Lil White, DPablo, Tuyz",
                    youtubeId: "SrxyKtpnzGc",
                    emoji: "🚀"
                },
                {
                    id: 4,
                    title: "Làm Bạn Với Âm Nhạc",
                    artist: "Vijt., DPablo, Tuyz",
                    youtubeId: "XnnDI_UqIOA",
                    emoji: "🎶"
                },
                {
                    id: 5,
                    title: "Cơn Mưa Và Nỗi Nhớ",
                    artist: "B/roly, Kar D.Boy, CelreX",
                    youtubeId: "vW1I5r5JAr4",
                    emoji: "🌧️"
                },
                {
                    id: 6,
                    title: "Chúng Ta Đã Yêu Nhau Xong Rồi",
                    artist: "Vijt, CelreX, Phạm Quyết",
                    youtubeId: "HtSZcicN3Pg",
                    emoji: "💔"
                }
            ],
            artists: [
                { name: "TPOWLER", role: "Rapper", emoji: "🎤" },
                { name: "DPablo", role: "Producer", emoji: "🎹" },
                { name: "Kar D. Boy", role: "Rapper", emoji: "🎵" },
                { name: "Lil Kilz", role: "Rapper", emoji: "🔥" },
                { name: "Vijt", role: "Singer", emoji: "🎶" },
                { name: "B/roly", role: "Rapper", emoji: "⚡" },
                { name: "CelreX", role: "Producer", emoji: "🎛️" },
                { name: "Tuyz", role: "Engineer", emoji: "🔊" }
            ]
        };

        // YouTube Player Setup
        function onYouTubeIframeAPIReady() {
            AppState.player = new YT.Player('youtube-player', {
                height: '0',
                width: '0',
                videoId: AppState.tracks[0].youtubeId,
                playerVars: {
                    'autoplay': 0,
                    'controls': 0,
                    'disablekb': 1,
                    'fs': 0,
                    'iv_load_policy': 3,
                    'modestbranding': 1,
                    'playsinline': 1,
                    'rel': 0,
                    'showinfo': 0
                },
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });
        }

        function onPlayerReady(event) {
            AppState.isPlayerReady = true;
            console.log('YouTube player ready');
        }

        function onPlayerStateChange(event) {
            switch (event.data) {
                case YT.PlayerState.PLAYING:
                    AppState.isPlaying = true;
                    updatePlayerUI();
                    startProgressUpdate();
                    break;
                case YT.PlayerState.PAUSED:
                    AppState.isPlaying = false;
                    updatePlayerUI();
                    stopProgressUpdate();
                    break;
                case YT.PlayerState.ENDED:
                    nextTrack();
                    break;
            }
        }

        // YouTube Thumbnail Functions
        function getYouTubeThumbnail(videoId) {
            return `https://img.youtube.com/vi/${videoId}/maxresdefault.jpg`;
        }

        function getYouTubeThumbnailFallback(videoId) {
            return `https://img.youtube.com/vi/${videoId}/hqdefault.jpg`;
        }

        function loadArtwork(element, videoId, emoji) {
            const img = new Image();
            const placeholder = element.querySelector('.artwork-placeholder') || element;
            
            // Show loading state
            if (!element.querySelector('.artwork-loading')) {
                const loading = document.createElement('div');
                loading.className = 'artwork-loading';
                element.appendChild(loading);
            }
            
            img.onload = function() {
                // Remove loading
                const loading = element.querySelector('.artwork-loading');
                if (loading) loading.remove();
                
                // Create or update image element
                let artworkImg = element.querySelector('.artwork-image');
                if (!artworkImg) {
                    artworkImg = document.createElement('img');
                    artworkImg.className = 'artwork-image';
                    element.appendChild(artworkImg);
                }
                artworkImg.src = this.src;
                artworkImg.alt = 'Album artwork';
                
                // Hide placeholder
                if (placeholder !== element) {
                    placeholder.style.opacity = '0';
                }
            };
            
            img.onerror = function() {
                // Try fallback thumbnail
                const fallbackImg = new Image();
                fallbackImg.onload = function() {
                    const loading = element.querySelector('.artwork-loading');
                    if (loading) loading.remove();
                    
                    let artworkImg = element.querySelector('.artwork-image');
                    if (!artworkImg) {
                        artworkImg = document.createElement('img');
                        artworkImg.className = 'artwork-image';
                        element.appendChild(artworkImg);
                    }
                    artworkImg.src = this.src;
                    artworkImg.alt = 'Album artwork';
                    
                    if (placeholder !== element) {
                        placeholder.style.opacity = '0';
                    }
                };
                
                fallbackImg.onerror = function() {
                    // Show emoji fallback
                    const loading = element.querySelector('.artwork-loading');
                    if (loading) loading.remove();
                    
                    if (placeholder !== element) {
                        placeholder.textContent = emoji;
                        placeholder.style.opacity = '1';
                    } else {
                        element.textContent = emoji;
                    }
                };
                
                fallbackImg.src = getYouTubeThumbnailFallback(videoId);
            };
            
            img.src = getYouTubeThumbnail(videoId);
        }

        // Player Controls
        function playTrack(index) {
            if (!AppState.isPlayerReady) return;

            AppState.currentTrack = index;
            const track = AppState.tracks[index];
            
            // Update player modal
            document.getElementById('playerTitle').textContent = track.title;
            document.getElementById('playerArtist').textContent = track.artist;
            
            // Load artwork
            const playerArtwork = document.getElementById('playerArtwork');
            playerArtwork.innerHTML = `<div class="artwork-placeholder">${track.emoji}</div>`;
            loadArtwork(playerArtwork, track.youtubeId, track.emoji);
            
            // Show player modal
            showPlayerModal();
            
            // Load and play track
            AppState.player.loadVideoById(track.youtubeId);
            AppState.player.playVideo();
        }

        function showPlayerModal() {
            document.getElementById('modalOverlay').classList.add('active');
            document.getElementById('playerModal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function hidePlayerModal() {
            document.getElementById('modalOverlay').classList.remove('active');
            document.getElementById('playerModal').classList.remove('active');
            document.body.style.overflow = '';
            
            if (AppState.player && AppState.isPlaying) {
                AppState.player.pauseVideo();
            }
        }

        function nextTrack() {
            const nextIndex = (AppState.currentTrack + 1) % AppState.tracks.length;
            playTrack(nextIndex);
        }

        function prevTrack() {
            const prevIndex = AppState.currentTrack === 0 ? AppState.tracks.length - 1 : AppState.currentTrack - 1;
            playTrack(prevIndex);
        }

        function togglePlayPause() {
            if (!AppState.isPlayerReady) return;
            
            if (AppState.isPlaying) {
                AppState.player.pauseVideo();
            } else {
                AppState.player.playVideo();
            }
        }

        // UI Updates
        function updatePlayerUI() {
            const playPauseBtn = document.getElementById('playPauseBtn');
            if (AppState.isPlaying) {
                playPauseBtn.innerHTML = `
                    <svg width="28" height="28" viewBox="0 0 24 24" fill="currentColor">
                        <rect x="6" y="4" width="4" height="16"></rect>
                        <rect x="14" y="4" width="4" height="16"></rect>
                    </svg>
                `;
            } else {
                playPauseBtn.innerHTML = `
                    <svg width="28" height="28" viewBox="0 0 24 24" fill="currentColor">
                        <polygon points="5,3 19,12 5,21"></polygon>
                    </svg>
                `;
            }
        }

        // Progress Bar
        let progressInterval;

        function startProgressUpdate() {
            progressInterval = setInterval(updateProgress, 1000);
        }

        function stopProgressUpdate() {
            if (progressInterval) {
                clearInterval(progressInterval);
            }
        }

        function updateProgress() {
            if (AppState.player && AppState.isPlaying) {
                const currentTime = AppState.player.getCurrentTime();
                const duration = AppState.player.getDuration();
                
                if (duration > 0) {
                    const progress = (currentTime / duration) * 100;
                    document.getElementById('progressFill').style.width = progress + '%';
                    
                    document.getElementById('currentTime').textContent = formatTime(currentTime);
                    document.getElementById('totalTime').textContent = formatTime(duration);
                }
            }
        }

        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins}:${secs.toString().padStart(2, '0')}`;
        }

        function seekTo(percentage) {
            if (AppState.player && AppState.player.getDuration) {
                const duration = AppState.player.getDuration();
                const newTime = (percentage / 100) * duration;
                AppState.player.seekTo(newTime);
            }
        }

        // Render Functions
        function renderMusic() {
            const musicGrid = document.getElementById('musicGrid');
            musicGrid.innerHTML = AppState.tracks.map((track, index) => `
                <div class="music-card" onclick="playTrack(${index})" tabindex="0" role="button" aria-label="Play ${track.title}">
                    <div class="music-artwork" id="artwork-${index}">
                        <div class="artwork-placeholder">${track.emoji}</div>
                        <div class="play-overlay">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <polygon points="5,3 19,12 5,21"></polygon>
                            </svg>
                        </div>
                    </div>
                    <div class="music-info">
                        <h3 class="music-title">${track.title}</h3>
                        <p class="music-artist">${track.artist}</p>
                    </div>
                </div>
            `).join('');
            
            // Load thumbnails for each track
            AppState.tracks.forEach((track, index) => {
                const artworkElement = document.getElementById(`artwork-${index}`);
                if (artworkElement) {
                    loadArtwork(artworkElement, track.youtubeId, track.emoji);
                }
            });
        }

        function renderArtists() {
            const artistsGrid = document.getElementById('artistsGrid');
            artistsGrid.innerHTML = AppState.artists.map(artist => `
                <div class="artist-card">
                    <div class="artist-avatar">${artist.emoji}</div>
                    <h3 class="artist-name">${artist.name}</h3>
                    <p class="artist-role">${artist.role}</p>
                </div>
            `).join('');
        }

        // Smooth Scrolling
        function smoothScroll(target) {
            document.querySelector(target).scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }

        // Event Listeners
        function initEventListeners() {
            // Navigation
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = this.getAttribute('href');
                    if (target !== '#') {
                        smoothScroll(target);
                    }
                });
            });

            // Player Controls
            document.getElementById('playPauseBtn').addEventListener('click', togglePlayPause);
            document.getElementById('nextBtn').addEventListener('click', nextTrack);
            document.getElementById('prevBtn').addEventListener('click', prevTrack);

            // Progress Bar
            document.getElementById('progressBar').addEventListener('click', (e) => {
                const rect = e.target.getBoundingClientRect();
                const percentage = ((e.clientX - rect.left) / rect.width) * 100;
                seekTo(percentage);
            });

            // Modal close events
            document.getElementById('modalClose').addEventListener('click', hidePlayerModal);
            document.getElementById('modalOverlay').addEventListener('click', hidePlayerModal);
            
            // Prevent modal from closing when clicking inside
            document.getElementById('playerModal').addEventListener('click', (e) => {
                e.stopPropagation();
            });

            // Keyboard Controls
            document.addEventListener('keydown', (e) => {
                if (e.target.matches('input, textarea')) return;
                
                switch (e.code) {
                    case 'Space':
                        e.preventDefault();
                        togglePlayPause();
                        break;
                    case 'ArrowRight':
                        e.preventDefault();
                        nextTrack();
                        break;
                    case 'ArrowLeft':
                        e.preventDefault();
                        prevTrack();
                        break;
                    case 'Escape':
                        hidePlayerModal();
                        break;
                }
            });

            // Navbar scroll effect with throttling
            let ticking = false;
            function updateNavbar() {
                const navbar = document.getElementById('navbar');
                if (window.scrollY > 100) {
                    navbar.style.background = 'rgba(255, 255, 255, 0.95)';
                    navbar.style.borderBottomColor = 'var(--color-border)';
                } else {
                    navbar.style.background = 'rgba(255, 255, 255, 0.8)';
                    navbar.style.borderBottomColor = 'var(--color-border-light)';
                }
                ticking = false;
            }

            window.addEventListener('scroll', () => {
                if (!ticking) {
                    requestAnimationFrame(updateNavbar);
                    ticking = true;
                }
            });

            // Intersection Observer for animations
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const cards = entry.target.querySelectorAll('.music-card, .artist-card');
                        cards.forEach((card, index) => {
                            setTimeout(() => {
                                card.style.opacity = '1';
                                card.style.transform = 'translateY(0)';
                            }, index * 100);
                        });
                        observer.unobserve(entry.target);
                    }
                });
            }, observerOptions);

            // Observe sections for animations
            document.querySelectorAll('.section').forEach(section => {
                observer.observe(section);
            });
        }

        // Initialize cards with animation-ready state
        function initAnimations() {
            const style = document.createElement('style');
            style.textContent = `
                .music-card, .artist-card {
                    opacity: 0;
                    transform: translateY(30px);
                    transition: opacity 0.6s ease, transform 0.6s ease;
                }
            `;
            document.head.appendChild(style);
        }

        // Initialize Application
        function init() {
            renderMusic();
            renderArtists();
            initEventListeners();
            initAnimations();
        }

        // Start the application when DOM is loaded
        document.addEventListener('DOMContentLoaded', init);
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'979e3142a36649ba',t:'MTc1Njk5NjMwNi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
